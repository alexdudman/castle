function ld_ready(e){/in/.test(document.readyState)?setTimeout("ld_ready("+e+")",9):e()}function getURLParameter(e){return decodeURIComponent(((new RegExp("[?|&]"+e+"="+"([^&;]+?)(&|#|;|$)")).exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function getCookie(e){var t=document.cookie;var n=t.indexOf(" "+e+"=");if(n==-1){n=t.indexOf(e+"=")}if(n==-1){t=null}else{n=t.indexOf("=",n)+1;var r=t.indexOf(";",n);if(r==-1){r=t.length}t=unescape(t.substring(n,r))}return t}function setCookie(e,t,n){var r=new Date;r.setDate(r.getDate()+n);var i=escape(t)+(n==null?"":"; expires="+r.toUTCString());document.cookie=e+"="+i}function checkCookie(e){var t=getCookie(e);if(t!=null&&t!=""){return true}else{return false}}function fetchJSONFile(e,t){try{var n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");n.onreadystatechange=function(){if(n.readyState===4){if(n.status===200){var e=JSON.parse(n.responseText);if(t)t(e)}else{sendalert("JSON File (httpRequest status): "+n.status)}}};n.open("GET",e);n.send()}catch(r){sendalert("Error (fetchJSONFile function): "+r.message)}}function sendalert(e){var t="url="+encodeURIComponent(location.href);var n="version="+ld_version;var r="message="+encodeURIComponent(e);var i="?"+t+"&"+n+"&"+r;var s=document.createElement("script");s.setAttribute("type","text/javascript");s.setAttribute("src","http://adtrakld.co.uk/alert.php"+i);var o=document.getElementsByTagName("script")[0].appendChild(s)}function replaceClassContent(e,t){var n=getElementsByClassName(e);for(var r=0;r<n.length;r++){n[r].innerHTML=t}}function getUserVariable(e){if(typeof ld_var[e]!=="undefined"){return ld_var[e]}else{return null}}function hideClass(e){var t=getElementsByClassName(e);for(var n=0;n<t.length;n++){t[n].style.display="none"}}function addClass(e,t){var n=getElementsByClassName(e);for(var r=0;r<n.length;r++){n[r].className=n[r].className+" "+t}}function addShowHideEvent(e){addEvent(getElementsByClassName("ld-showhide","a",e),"click",function(e){var t=getElementsByClassName("ld-dropdown","div",this.parentNode);for(var n=0;n<t.length;n++){if(t[n].style.display==="block"){t[n].style.display="none"}else{t[n].style.display="block"}}var r=this.className.split(/\s+/),i="ld-active",s=~r.indexOf(i);r.splice(s?r.indexOf(i):0,s?1:0,s?null:i);this.className=r.join(" ").replace(/^\s+|\s+$/,"");var o=parseFloat(window.getComputedStyle(this,null).getPropertyValue("padding-top"))+parseFloat(window.getComputedStyle(this,null).getPropertyValue("padding-bottom"));var u=parseFloat(window.getComputedStyle(this,null).getPropertyValue("height"));this.nextElementSibling.style.top=o+u+"px";var a=parseFloat(window.getComputedStyle(this,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(this,null).getPropertyValue("padding-right"));var f=parseFloat(window.getComputedStyle(this,null).getPropertyValue("width"));var l=parseFloat(window.getComputedStyle(this.nextElementSibling,null).getPropertyValue("padding-left"))+parseFloat(window.getComputedStyle(this.nextElementSibling,null).getPropertyValue("padding-right"));var c=parseFloat(window.getComputedStyle(this.nextElementSibling,null).getPropertyValue("width"));if(a+f>l+c){this.nextElementSibling.style.width=this.clientWidth-l+"px"}var h=typeof e!=="undefined"?e:event;if(h.preventDefault){h.preventDefault()}else{h.returnValue=false}})}var ld_version=1.2;var ld_var=ld_var||{};var ld_json=ld_var["ld_json"]||"includes/ld/phonenumbers.json";var ld_message=ld_var["ld_message"]||"Call Locally on Mobile";var ld_breakpoint=ld_var["ld_breakpoint"]||769;var ld_default="";var ld_defaultarea="";var ld_calltag="";var addEvent=function(){var e=function(e,t,n){for(var r=0,i=e.length;r<i;r++){addEvent(e[r],t,n)}};if(document.addEventListener){return function(t,n,r){if(t&&t.nodeName||t===window){t.addEventListener(n,r,false)}else if(t&&t.length){e(t,n,r)}}}return function(t,n,r){if(t&&t.nodeName||t===window){t.attachEvent("on"+n,function(){return r.call(t,window.event)})}else if(t&&t.length){e(t,n,r)}}}();var getElementsByClassName=function(e,t,n){if(document.getElementsByClassName){getElementsByClassName=function(e,t,n){n=n||document;var r=n.getElementsByClassName(e),i=t?new RegExp("\\b"+t+"\\b","i"):null,s=[],o;for(var u=0,a=r.length;u<a;u+=1){o=r[u];if(!i||i.test(o.nodeName)){s.push(o)}}return s}}else if(document.evaluate){getElementsByClassName=function(e,t,n){t=t||"*";n=n||document;var r=e.split(" "),i="",s="http://www.w3.org/1999/xhtml",o=document.documentElement.namespaceURI===s?s:null,u=[],a,f;for(var l=0,c=r.length;l<c;l+=1){i+="[contains(concat(' ', @class, ' '), ' "+r[l]+" ')]"}try{a=document.evaluate(".//"+t+i,n,o,0,null)}catch(h){a=document.evaluate(".//"+t+i,n,null,0,null)}while(f=a.iterateNext()){u.push(f)}return u}}else{getElementsByClassName=function(e,t,n){t=t||"*";n=n||document;var r=e.split(" "),i=[],s=t==="*"&&n.all?n.all:n.getElementsByTagName(t),o,u=[],a;for(var f=0,l=r.length;f<l;f+=1){i.push(new RegExp("(^|\\s)"+r[f]+"(\\s|$)"))}for(var c=0,h=s.length;c<h;c+=1){o=s[c];a=false;for(var p=0,d=i.length;p<d;p+=1){a=i[p].test(o.className);if(!a){break}}if(a){u.push(o)}}return u}}return getElementsByClassName(e,t,n)};if(typeof JSON!=="object"){JSON={}}(function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];if(a&&typeof a==="object"&&typeof a.toJSON==="function"){a=a.toJSON(e)}if(typeof rep==="function"){a=rep.call(t,e,a)}switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a){return"null"}gap+=indent;u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1){u[n]=str(n,a)||"null"}i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]";gap=o;return i}if(rep&&typeof rep==="object"){s=rep.length;for(n=0;n<s;n+=1){if(typeof rep[n]==="string"){r=rep[n];i=str(r,a);if(i){u.push(quote(r)+(gap?": ":":")+i)}}}}else{for(r in a){if(Object.prototype.hasOwnProperty.call(a,r)){i=str(r,a);if(i){u.push(quote(r)+(gap?": ":":")+i)}}}}i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}";gap=o;return i}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;if(typeof JSON.stringify!=="function"){JSON.stringify=function(e,t,n){var r;gap="";indent="";if(typeof n==="number"){for(r=0;r<n;r+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=t;if(t&&typeof t!=="function"&&(typeof t!=="object"||typeof t.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":e})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i==="object"){for(n in i){if(Object.prototype.hasOwnProperty.call(i,n)){r=walk(i,n);if(r!==undefined){i[n]=r}else{delete i[n]}}}}return reviver.call(e,t,i)}var j;text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();var deviceCheck={isIPhone:function(){return navigator.platform.indexOf("iPhone")!=-1||navigator.platform.indexOf("iPod")!=-1},isIPad:function(){return navigator.platform.indexOf("iPad")!=-1},isAndroidMobile:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("android")>-1&&e.indexOf("mobile")},isAndroidTablet:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("android")>-1&&!e.indexOf("mobile")},isBlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},isOpera:function(){return navigator.userAgent.match(/Opera Mini/i)},isWindows:function(){return navigator.userAgent.match(/IEMobile/i)},isMobile:function(){return deviceCheck.isIPhone()||deviceCheck.isAndroidMobile()||deviceCheck.isBlackBerry()||deviceCheck.isOpera()||deviceCheck.isWindows()},isTablet:function(){return deviceCheck.isIPad()||deviceCheck.isAndroidTablet()}};var toggleClass=function(e,t){if(e){if(e.className.indexOf(t)){e.className=e.className.replace(t,"")}else{e.className+=" "+t}}};ld_ready(function(){fetchJSONFile(ld_json,function(e){if(deviceCheck.isMobile()){var t="mobile"}else if(deviceCheck.isTablet()){var t="tablet"}else{var t="computer"}var n=0;var r=e["locationdynamics"]["locations"];var i=getURLParameter("a");if(i!=null){i=i.replace("smartphone(","");i=i.replace("tablet(","");i=i.replace(")","")}for(var s in r){var o=r[s]["source"]["organic"][t];if(o===""||o===undefined||o===null){o=r[s]["source"]["organic"]["computer"]}if(o===""||o===undefined||o===null){}else{n++}}if(i=="gen"){setCookie("area",i,2592e3);ld_default=e["locationdynamics"]["default"]["source"]["google-adwords"][t];if(ld_default===""||ld_default===undefined||ld_default===null){ld_default=e["locationdynamics"]["locations"][i]["source"]["google-adwords"]["computer"]}ld_defaultarea=e["locationdynamics"]["default"]["area"];ld_calltag=e["locationdynamics"]["default"]["calltag"];addClass("ld-phonenumber","ld-single");hideClass("ld-page");hideClass("ld-locationnumbers");hideClass("ld-locationnumbers-list");hideClass("ld-locationnumbers-custom")}else if(i!==null&&i in r){setCookie("area",i,2592e3);ld_default=e["locationdynamics"]["locations"][i]["source"]["google-adwords"][t];if(ld_default===""||ld_default===undefined||ld_default===null){ld_default=e["locationdynamics"]["locations"][i]["source"]["google-adwords"]["computer"]}ld_defaultarea=e["locationdynamics"]["locations"][i]["area"];ld_calltag=e["locationdynamics"]["locations"][i]["calltag"];addClass("ld-phonenumber","ld-single");hideClass("ld-page");hideClass("ld-locationnumbers");hideClass("ld-locationnumbers-list");hideClass("ld-locationnumbers-custom")}else if(getCookie("area")=="gen"){ld_default=e["locationdynamics"]["default"]["source"]["google-adwords"][t];if(ld_default===""||ld_default===undefined||ld_default===null){ld_default=e["locationdynamics"]["default"]["source"]["google-adwords"]["computer"]}ld_defaultarea=e["locationdynamics"]["default"]["area"];ld_calltag=e["locationdynamics"]["default"]["calltag"];addClass("ld-phonenumber","ld-single");hideClass("ld-page");hideClass("ld-locationnumbers");hideClass("ld-locationnumbers-list");hideClass("ld-locationnumbers-custom")}else if(getCookie("area")!==null&&getCookie("area")in r){ld_default=e["locationdynamics"]["locations"][getCookie("area")]["source"]["google-adwords"][t];if(ld_default===""||ld_default===undefined||ld_default===null){ld_default=e["locationdynamics"]["locations"][getCookie("area")]["source"]["google-adwords"]["computer"]}ld_defaultarea=e["locationdynamics"]["locations"][getCookie("area")]["area"];ld_calltag=e["locationdynamics"]["locations"][getCookie("area")]["calltag"];addClass("ld-phonenumber","ld-single");hideClass("ld-page");hideClass("ld-locationnumbers");hideClass("ld-locationnumbers-list");hideClass("ld-locationnumbers-custom")}else if(getUserVariable("ld_fixed")!==null&&getUserVariable("ld_fixed")in r){ld_default=e["locationdynamics"]["locations"][getUserVariable("ld_fixed")]["source"]["organic"][t];if(ld_default===""||ld_default===undefined||ld_default===null){ld_default=e["locationdynamics"]["locations"][getUserVariable("ld_fixed")]["source"]["organic"]["computer"]}ld_defaultarea=e["locationdynamics"]["locations"][getUserVariable("ld_fixed")]["area"];ld_calltag=e["locationdynamics"]["locations"][getUserVariable("ld_fixed")]["calltag"];addClass("ld-phonenumber","ld-single")}else{ld_default=e["locationdynamics"]["default"]["source"]["organic"][t];if(ld_default===""||ld_default===undefined||ld_default===null){ld_default=e["locationdynamics"]["default"]["source"]["organic"]["computer"]}ld_defaultarea=e["locationdynamics"]["default"]["area"];ld_calltag=e["locationdynamics"]["default"]["calltag"];var u="";var a=0;for(var f in r){a++;var l=r[f]["area"];var c=r[f]["source"]["organic"][t];if(c===""||c===undefined||c===null){c=r[f]["source"]["organic"]["computer"]}if(c===""||c===undefined||c===null){}else{if(n===1){if(t==="mobile"){u+='<div class="ld-areanum ld-id-'+a+'"><span class="ld-number"><a href="tel:'+c+'">'+c+"</a></span></div>"}else{u+='<div class="ld-areanum ld-id-'+a+'"><span class="ld-number">'+c+"</span></div>"}}else if(n>1){if(t==="mobile"){u+='<div class="ld-areanum ld-id-'+a+'"><span class="ld-area">'+l+'</span> <span class="ld-number"><a href="tel:'+c+'">'+c+"</a></span></div>"}else{u+='<div class="ld-areanum ld-id-'+a+'"><span class="ld-area">'+l+'</span> <span class="ld-number">'+c+"</span></div> "}}}}var h=getElementsByClassName("ld-locationnumbers");if(n>3){for(var p=0;p<h.length;p++){h[p].innerHTML='<a href="#" class="ld-showhide">'+ld_message+'</a><div class="ld-dropdown">'+u+"</div>"}}else{for(var p=0;p<h.length;p++){h[p].innerHTML=u}}var d=getElementsByClassName("ld-locationnumbers-list");for(var p=0;p<d.length;p++){d[p].innerHTML=u}var v=getElementsByClassName("ld-locationnumbers-dropdown");for(var p=0;p<v.length;p++){v[p].innerHTML='<a href="#" class="ld-showhide">'+ld_message+'</a><div class="ld-dropdown">'+u+"</div>"}var m=getElementsByClassName("ld-locationnumbers-responsive");for(var p=0;p<m.length;p++){var g=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(g<ld_breakpoint){m[p].innerHTML='<a href="#" class="ld-showhide">'+ld_message+'</a><div class="ld-dropdown">'+u+"</div>"}else{m[p].innerHTML=u}}var y=getElementsByClassName("ld-locationnumbers-custom");if(n>3){for(var p=0;p<y.length;p++){y[p].innerHTML='<a href="#" class="ld-showhide">'+ld_message+'</a><div class="ld-dropdown">'+y[p].innerHTML+"</div>"}}var b=getElementsByClassName("ld-locationnumbers-custom-content");for(var p=0;p<b.length;p++){b[p].innerHTML=u}addShowHideEvent(document)}window.onresize=function(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);var t=getElementsByClassName("ld-locationnumbers-responsive");for(var n=0;n<t.length;n++){var r=document.createElement("div");var i=t[n].getElementsByClassName("ld-areanum");for(var s=0;s<i.length;s++){r.appendChild(i[s].cloneNode(true))}if(e<ld_breakpoint){t[n].innerHTML='<a href="#" class="ld-showhide">'+ld_message+'</a><div class="ld-dropdown">'+r.innerHTML+"</div>"}else{t[n].innerHTML=r.innerHTML}addShowHideEvent(t[n])}};if(t==="mobile"){ld_default='<a href="tel:'+ld_default+'">'+ld_default+"</a>"}replaceClassContent("ld-phonenumber",ld_default);replaceClassContent("ld-defaultarea",ld_defaultarea);replaceClassContent("ld-calltag",ld_calltag)})})
