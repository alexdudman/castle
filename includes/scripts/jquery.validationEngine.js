(function(e){e.fn.validationEngineLanguage=function(){};e.validationEngineLanguage={newLang:function(){e.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* This field is required",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",alertTextDateRange:"* Both date range fields are required"},requiredInFunction:{func:function(e,t,n,r){return e.val()=="test"?true:false},alertText:"* Field must equal test"},dateRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters allowed"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Fields do not match"},creditCard:{regex:"none",alertText:"* Invalid credit card number"},telephone:{regex:/^([\+][0-9]{1,3}[\ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9\ \.\-\/]{3,20})((x|ext|extension)[\ ]?[0-9]{1,4})?$/,alertText:"* Invalid phone number"},email:{regex:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,alertText:"* Invalid email address"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?(([0-9]{1,3})([\.]([0-9]{3}))*([,]([0-9]+))?|([0-9]+)?([,]([0-9]+))?)$/,alertText:"* Invalid floating decimal number"},date:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/,alertText:"* Invalid date, must be in YYYY-MM-DD format"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* This username is available",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Validating, please wait"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* This name is already taken",alertTextLoad:"* Validating, please wait"},validate2fields:{alertText:"* Please input HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid Date"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid Date or Date Format",alertText2:"Expected Format: ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"}}}};e.validationEngineLanguage.newLang()})(jQuery);(function(e){"use strict";var t={init:function(n){var r=this;if(!r.data("jqv")||r.data("jqv")==null){n=t._saveOptions(r,n);e(".formError").on("click",function(){e(this).fadeOut(150,function(){e(this).parent(".formErrorOuter").remove();e(this).remove()})})}return this},attach:function(n){if(!e(this).is("form")){return this}var r=this;var i;if(n)i=t._saveOptions(r,n);else i=r.data("jqv");i.validateAttribute=r.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class";if(i.binded){r.find("["+i.validateAttribute+"*=validate]").not("[type=checkbox]").not("[type=radio]").not(".datepicker").bind(i.validationEventTrigger,t._onFieldEvent);r.find("["+i.validateAttribute+"*=validate][type=checkbox],["+i.validateAttribute+"*=validate][type=radio]").bind("click",t._onFieldEvent);r.find("["+i.validateAttribute+"*=validate][class*=datepicker]").bind(i.validationEventTrigger,{delay:300},t._onFieldEvent)}if(i.autoPositionUpdate){e(window).bind("resize",{noAnimation:true,formElem:r},t.updatePromptsPosition)}r.bind("submit",t._onSubmitEvent);return this},detach:function(){if(!e(this).is("form")){alert("Sorry, jqv.detach() only applies to a form");return this}var n=this;var r=n.data("jqv");n.find("["+r.validateAttribute+"*=validate]").not("[type=checkbox]").unbind(r.validationEventTrigger,t._onFieldEvent);n.find("["+r.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").unbind("click",t._onFieldEvent);n.unbind("submit",t.onAjaxFormComplete);n.find("["+r.validateAttribute+"*=validate]").not("[type=checkbox]").die(r.validationEventTrigger,t._onFieldEvent);n.find("["+r.validateAttribute+"*=validate][type=checkbox]").die("click",t._onFieldEvent);n.die("submit",t.onAjaxFormComplete);n.removeData("jqv");if(r.autoPositionUpdate)e(window).unbind("resize",t.updatePromptsPosition);return this},validate:function(){if(e(this).is("form"))return t._validateFields(this);else{var n=e(this).closest("form");var r=n.data("jqv");var i=t._validateField(e(this),r);if(r.onSuccess&&r.InvalidFields.length==0)r.onSuccess();else if(r.onFailure&&r.InvalidFields.length>0)r.onFailure();return i}},updatePromptsPosition:function(n){if(n&&this==window){var r=n.data.formElem;var i=n.data.noAnimation}else var r=e(this.closest("form"));var s=r.data("jqv");r.find("["+s.validateAttribute+"*=validate]").not(":disabled").each(function(){var n=e(this);var r=t._getPrompt(n);var o=e(r).find(".formErrorContent").html();if(r)t._updatePrompt(n,e(r),o,undefined,false,s,i)});return this},showPrompt:function(e,n,r,i){var s=this.closest("form");var o=s.data("jqv");if(!o)o=t._saveOptions(this,o);if(r)o.promptPosition=r;o.showArrow=i==true;t._showPrompt(this,e,n,false,o);return this},hide:function(){var n=e(this).closest("form");if(n.length==0)return this;var r=n.data("jqv");var i;if(e(this).is("form")){i="parentForm"+t._getClassName(e(this).attr("id"))}else{i=t._getClassName(e(this).attr("id"))+"formError"}e("."+i).fadeTo(r.fadeDuration,.3,function(){e(this).parent(".formErrorOuter").remove();e(this).remove()});return this},hideAll:function(){var t=this;var n=t.data("jqv");var r=n?n.fadeDuration:.3;e(".formError").fadeTo(r,.3,function(){e(this).parent(".formErrorOuter").remove();e(this).remove()});return this},_onFieldEvent:function(n){var r=e(this);var i=r.closest("form");var s=i.data("jqv");window.setTimeout(function(){t._validateField(r,s);if(s.InvalidFields.length==0&&s.onSuccess){s.onSuccess()}else if(s.InvalidFields.length>0&&s.onFailure){s.onFailure()}},n.data?n.data.delay:0)},_onSubmitEvent:function(){var n=e(this);var r=n.data("jqv");var i=t._validateFields(n,r.ajaxFormValidation);if(i&&r.ajaxFormValidation){t._validateFormWithAjax(n,r);return false}if(r.onValidationComplete){r.onValidationComplete(n,i);return false}return i},_checkAjaxStatus:function(t){var n=true;e.each(t.ajaxValidCache,function(e,t){if(!t){n=false;return false}});return n},_validateFields:function(n,r){var i=n.data("jqv");var s=false;n.trigger("jqv.form.validating");var o=null;n.find("["+i.validateAttribute+"*=validate]").not(":disabled").each(function(){var u=e(this);var a=[];if(e.inArray(u.attr("name"),a)<0){s|=t._validateField(u,i,r);if(s&&o==null)if(u.is(":hidden")&&i.prettySelect)o=u=n.find("#"+i.usePrefix+u.attr("id")+i.useSuffix);else o=u;if(i.doNotShowAllErrosOnSubmit)return false;a.push(u.attr("name"))}});n.trigger("jqv.form.result",[s]);if(s){if(i.scroll){var u=o.offset().top;var a=o.offset().left;var f=i.promptPosition;if(typeof f=="string"&&f.indexOf(":")!=-1)f=f.substring(0,f.indexOf(":"));if(f!="bottomRight"&&f!="bottomLeft"){var l=t._getPrompt(o);u=l.offset().top}if(i.isOverflown){var c=e(i.overflownDIV);if(!c.length)return false;var h=c.scrollTop();var p=-parseInt(c.offset().top);u+=h+p-5;var d=e(i.overflownDIV+":not(:animated)");d.animate({scrollTop:u},1100,function(){if(i.focusFirstField)o.focus()})}else{e("html:not(:animated),body:not(:animated)").animate({scrollTop:u,scrollLeft:a},1100,function(){if(i.focusFirstField)o.focus()})}}else if(i.focusFirstField)o.focus();return false}return true},_validateFormWithAjax:function(n,r){var i=n.serialize();var s=r.ajaxFormValidationURL?r.ajaxFormValidationURL:n.attr("action");e.ajax({type:r.ajaxFormValidationMethod,url:s,cache:false,dataType:"json",data:i,form:n,methods:t,options:r,beforeSend:function(){return r.onBeforeAjaxFormValidation(n,r)},error:function(e,n){t._ajaxError(e,n)},success:function(i){if(i!==true){var s=false;for(var o=0;o<i.length;o++){var u=i[o];var a=u[0];var f=e(e("#"+a)[0]);if(f.length==1){var l=u[2];if(u[1]==true){if(l==""||!l){t._closePrompt(f)}else{if(r.allrules[l]){var c=r.allrules[l].alertTextOk;if(c)l=c}t._showPrompt(f,l,"pass",false,r,true)}}else{s|=true;if(r.allrules[l]){var c=r.allrules[l].alertText;if(c)l=c}t._showPrompt(f,l,"",false,r,true)}}}r.onAjaxFormComplete(!s,n,i,r)}else r.onAjaxFormComplete(true,n,"",r)}})},_validateField:function(n,r,i){if(!n.attr("id")){n.attr("id","form-validation-field-"+e.validationEngine.fieldIdCounter);++e.validationEngine.fieldIdCounter}if(n.is(":hidden")&&!r.prettySelect||n.parents().is(":hidden"))return false;var s=n.attr(r.validateAttribute);var o=/validate\[(.*)\]/.exec(s);if(!o)return false;var u=o[1];var a=u.split(/\[|,|\]/);var f=false;var l=n.attr("name");var c="";var h=false;r.isError=false;r.showArrow=true;var p=e(n.closest("form"));for(var d=0;d<a.length;d++){a[d]=a[d].replace(" ","");var v=undefined;switch(a[d]){case"required":h=true;v=t._getErrorMessage(p,n,a[d],a,d,r,t._required);break;case"custom":v=t._getErrorMessage(p,n,a[d],a,d,r,t._custom);break;case"groupRequired":var m="["+r.validateAttribute+"*="+a[d+1]+"]";var g=p.find(m).eq(0);if(g[0]!=n[0]){t._validateField(g,r,i);r.showArrow=true;continue}v=t._getErrorMessage(p,n,a[d],a,d,r,t._groupRequired);if(v)h=true;r.showArrow=false;break;case"ajax":if(!i){t._ajax(n,a,d,r);f=true}break;case"minSize":v=t._getErrorMessage(p,n,a[d],a,d,r,t._minSize);break;case"maxSize":v=t._getErrorMessage(p,n,a[d],a,d,r,t._maxSize);break;case"min":v=t._getErrorMessage(p,n,a[d],a,d,r,t._min);break;case"max":v=t._getErrorMessage(p,n,a[d],a,d,r,t._max);break;case"past":v=t._past(p,n,a,d,r);break;case"future":v=t._future(p,n,a,d,r);break;case"dateRange":var m="["+r.validateAttribute+"*="+a[d+1]+"]";var g=p.find(m).eq(0);var y=p.find(m).eq(1);if(g[0].value||y[0].value){v=t._dateRange(g,y,a,d,r)}if(v)h=true;r.showArrow=false;break;case"dateTimeRange":var m="["+r.validateAttribute+"*="+a[d+1]+"]";var g=p.find(m).eq(0);var y=p.find(m).eq(1);if(g[0].value||y[0].value){v=t._dateTimeRange(g,y,a,d,r)}if(v)h=true;r.showArrow=false;break;case"maxCheckbox":n=e(p.find("input[name='"+l+"']"));v=t._getErrorMessage(p,n,a[d],a,d,r,t._maxCheckbox);break;case"minCheckbox":n=e(p.find("input[name='"+l+"']"));v=t._getErrorMessage(p,n,a[d],a,d,r,t._minCheckbox);break;case"equals":v=t._getErrorMessage(p,n,a[d],a,d,r,t._equals);break;case"funcCall":v=t._getErrorMessage(p,n,a[d],a,d,r,t._funcCall);break;case"creditCard":v=t._getErrorMessage(p,n,a[d],a,d,r,t._creditCard);break;case"condRequired":v=t._condRequired(n,a,d,r);if(v!==undefined){h=true}break;default:}if(v!==undefined){c+=v+"<br/>";r.isError=true}}if(!h&&n.val()==""&&!c)r.isError=false;var b=n.prop("type");if((b=="radio"||b=="checkbox")&&p.find("input[name='"+l+"']").size()>1){n=e(p.find("input[name='"+l+"'][type!=hidden]:first"));r.showArrow=false}if(n.is(":hidden")&&r.prettySelect){n=p.find("#"+r.usePrefix+n.attr("id")+r.useSuffix)}if(r.isError){t._showPrompt(n,c,"",false,r)}else{if(!f)t._closePrompt(n)}if(!f){n.trigger("jqv.field.result",[n,r.isError,c])}var w=e.inArray(n[0],r.InvalidFields);if(w==-1){if(r.isError)r.InvalidFields.push(n[0])}else if(!r.isError){r.InvalidFields.splice(w,1)}return r.isError},_getErrorMessage:function(n,r,i,s,o,u,a){if(i=="custom"){var f=jQuery.inArray(i,s)+1;var l=s[f];i="custom["+l+"]"}var c=e(r).attr("id");var h=r.attr("data-validation-engine")?r.attr("data-validation-engine"):r.attr("class");var p=h.split(" ");var d=t._getCustomErrorMessage(c,p,i,u);var v;if(i=="future"||i=="past"||i=="maxCheckbox"||i=="minCheckbox"){v=a(n,r,s,o,u)}else{v=a(r,s,o,u)}if(v!=undefined&&d){return d}return v},_getCustomErrorMessage:function(e,t,n,r){var i=false;e="#"+e;if(typeof r.custom_error_messages[e]!="undefined"&&typeof r.custom_error_messages[e][n]!="undefined"){i=r.custom_error_messages[e][n]["message"]}else if(t.length>0){for(var s=0;s<t.length&&t.length>0;s++){var o="."+t[s];if(typeof r.custom_error_messages[o]!="undefined"&&typeof r.custom_error_messages[o][n]!="undefined"){i=r.custom_error_messages[o][n]["message"];break}}}if(!i&&typeof r.custom_error_messages[n]!="undefined"&&typeof r.custom_error_messages[n]["message"]!="undefined"){i=r.custom_error_messages[n]["message"]}return i},_required:function(t,n,r,i){switch(t.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:if(!e.trim(t.val())||t.val()==t.attr("data-validation-placeholder"))return i.allrules[n[r]].alertText;break;case"radio":case"checkbox":var s=t.closest("form");var o=t.attr("name");if(s.find("input[name='"+o+"']:checked").size()==0){if(s.find("input[name='"+o+"']").size()==1)return i.allrules[n[r]].alertTextCheckboxe;else return i.allrules[n[r]].alertTextCheckboxMultiple}break}},_groupRequired:function(n,r,i,s){var o="["+s.validateAttribute+"*="+r[i+1]+"]";var u=false;n.closest("form").find(o).each(function(){if(!t._required(e(this),r,i,s)){u=true;return false}});if(!u){return s.allrules[r[i]].alertText}},_custom:function(e,t,n,r){var i=t[n+1];var s=r.allrules[i];var o;if(!s){alert("jqv:custom rule not found - "+i);return}if(s["regex"]){var u=s.regex;if(!u){alert("jqv:custom regex not found - "+i);return}var a=new RegExp(u);if(!a.test(e.val()))return r.allrules[i].alertText}else if(s["func"]){o=s["func"];if(typeof o!=="function"){alert("jqv:custom parameter 'function' is no function - "+i);return}if(!o(e,t,n,r))return r.allrules[i].alertText}else{alert("jqv:custom type not allowed "+i);return}},_funcCall:function(e,t,n,r){var i=t[n+1];var s;if(i.indexOf(".")>-1){var o=i.split(".");var u=window;while(o.length){u=u[o.shift()]}s=u}else s=window[i]||r.customFunctions[i];if(typeof s=="function")return s(e,t,n,r)},_equals:function(t,n,r,i){var s=n[r+1];if(t.val()!=e("#"+s).val())return i.allrules.equals.alertText},_maxSize:function(e,t,n,r){var i=t[n+1];var s=e.val().length;if(s>i){var o=r.allrules.maxSize;return o.alertText+i+o.alertText2}},_minSize:function(e,t,n,r){var i=t[n+1];var s=e.val().length;if(s<i){var o=r.allrules.minSize;return o.alertText+i+o.alertText2}},_min:function(e,t,n,r){var i=parseFloat(t[n+1]);var s=parseFloat(e.val());if(s<i){var o=r.allrules.min;if(o.alertText2)return o.alertText+i+o.alertText2;return o.alertText+i}},_max:function(e,t,n,r){var i=parseFloat(t[n+1]);var s=parseFloat(e.val());if(s>i){var o=r.allrules.max;if(o.alertText2)return o.alertText+i+o.alertText2;return o.alertText+i}},_past:function(n,r,i,s,o){var u=i[s+1];var a=e(n.find("input[name='"+u.replace(/^#+/,"")+"']"));var f;if(u.toLowerCase()=="now"){f=new Date}else if(undefined!=a.val()){if(a.is(":disabled"))return;f=t._parseDate(a.val())}else{f=t._parseDate(u)}var l=t._parseDate(r.val());if(l>f){var c=o.allrules.past;if(c.alertText2)return c.alertText+t._dateToString(f)+c.alertText2;return c.alertText+t._dateToString(f)}},_future:function(n,r,i,s,o){var u=i[s+1];var a=e(n.find("input[name='"+u.replace(/^#+/,"")+"']"));var f;if(u.toLowerCase()=="now"){f=new Date}else if(undefined!=a.val()){if(a.is(":disabled"))return;f=t._parseDate(a.val())}else{f=t._parseDate(u)}var l=t._parseDate(r.val());if(l<f){var c=o.allrules.future;if(c.alertText2)return c.alertText+t._dateToString(f)+c.alertText2;return c.alertText+t._dateToString(f)}},_isDate:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return t.test(e)},_isDateTime:function(e){var t=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return t.test(e)},_dateCompare:function(e,t){return new Date(e.toString())<new Date(t.toString())},_dateRange:function(e,n,r,i,s){if(!e[0].value&&n[0].value||e[0].value&&!n[0].value){return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2}if(!t._isDate(e[0].value)||!t._isDate(n[0].value)){return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2}if(!t._dateCompare(e[0].value,n[0].value)){return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2}},_dateTimeRange:function(e,n,r,i,s){if(!e[0].value&&n[0].value||e[0].value&&!n[0].value){return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2}if(!t._isDateTime(e[0].value)||!t._isDateTime(n[0].value)){return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2}if(!t._dateCompare(e[0].value,n[0].value)){return s.allrules[r[i]].alertText+s.allrules[r[i]].alertText2}},_maxCheckbox:function(e,t,n,r,i){var s=n[r+1];var o=t.attr("name");var u=e.find("input[name='"+o+"']:checked").size();if(u>s){i.showArrow=false;if(i.allrules.maxCheckbox.alertText2)return i.allrules.maxCheckbox.alertText+" "+s+" "+i.allrules.maxCheckbox.alertText2;return i.allrules.maxCheckbox.alertText}},_minCheckbox:function(e,t,n,r,i){var s=n[r+1];var o=t.attr("name");var u=e.find("input[name='"+o+"']:checked").size();if(u<s){i.showArrow=false;return i.allrules.minCheckbox.alertText+" "+s+" "+i.allrules.minCheckbox.alertText2}},_creditCard:function(e,t,n,r){var i=false,s=e.val().replace(/ +/g,"").replace(/-+/g,"");var o=s.length;if(o>=14&&o<=16&&parseInt(s)>0){var u=0,n=o-1,a=1,f,l=new String;do{f=parseInt(s.charAt(n));l+=a++%2==0?f*2:f}while(--n>=0);for(n=0;n<l.length;n++){u+=parseInt(l.charAt(n))}i=u%10==0}if(!i)return r.allrules.creditCard.alertText},_ajax:function(n,r,i,s){var o=r[i+1];var u=s.allrules[o];var a=u.extraData;var f=u.extraDataDynamic;var l={fieldId:n.attr("id"),fieldValue:n.val()};if(typeof a==="object"){e.extend(l,a)}else if(typeof a==="string"){var c=a.split("&");for(var i=0;i<c.length;i++){var h=c[i].split("=");if(h[0]&&h[0]){l[h[0]]=h[1]}}}if(f){var p=[];var d=String(f).split(",");for(var i=0;i<d.length;i++){var v=d[i];if(e(v).length){var m=n.closest("form").find(v).val();var g=v.replace("#","")+"="+escape(m);l[v.replace("#","")]=m}}}if(!s.isError){e.ajax({type:s.ajaxFormValidationMethod,url:u.url,cache:false,dataType:"json",data:l,field:n,rule:u,methods:t,options:s,beforeSend:function(){var e=u.alertTextLoad;if(e)t._showPrompt(n,e,"load",true,s)},error:function(e,n){t._ajaxError(e,n)},success:function(n){var r=n[0];var i=e(e("input[id='"+r+"']")[0]);if(i.length==1){var o=n[1];var a=n[2];if(!o){s.ajaxValidCache[r]=false;s.isError=true;if(a){if(s.allrules[a]){var f=s.allrules[a].alertText;if(f){a=f}}}else a=u.alertText;t._showPrompt(i,a,"",true,s)}else{if(s.ajaxValidCache[r]!==undefined)s.ajaxValidCache[r]=true;if(a){if(s.allrules[a]){var f=s.allrules[a].alertTextOk;if(f){a=f}}}else a=u.alertTextOk;if(a)t._showPrompt(i,a,"pass",true,s);else t._closePrompt(i)}}i.trigger("jqv.field.result",[i,s.isError,a])}})}},_ajaxError:function(e,t){if(e.status==0&&t==null)alert("The page is not served from a server! ajax call failed");else if(typeof console!="undefined")console.log("Ajax error: "+e.status+" "+t)},_dateToString:function(e){return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},_parseDate:function(e){var t=e.split("-");if(t==e)t=e.split("/");return new Date(t[0],t[1]-1,t[2])},_showPrompt:function(e,n,r,i,s,o){var u=t._getPrompt(e);if(o)u=false;if(u)t._updatePrompt(e,u,n,r,i,s);else t._buildPrompt(e,n,r,i,s)},_buildPrompt:function(n,r,i,s,o){var u=e("<div>");u.addClass(t._getClassName(n.attr("id"))+"formError");u.addClass("parentForm"+t._getClassName(n.parents("form").attr("id")));u.addClass("formError");switch(i){case"pass":u.addClass("greenPopup");break;case"load":u.addClass("blackPopup");break;default:}if(s)u.addClass("ajaxed");var a=e("<div>").addClass("formErrorContent").html(r).appendTo(u);if(o.showArrow){var f=e("<div>").addClass("formErrorArrow");var l=n.data("promptPosition")||o.promptPosition;if(typeof l=="string"){var c=l.indexOf(":");if(c!=-1)l=l.substring(0,c)}switch(l){case"bottomLeft":case"bottomRight":u.find(".formErrorContent").before(f);f.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":f.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>');u.append(f);break}}if(n.closest(".ui-dialog").length)u.addClass("formErrorInsideDialog");u.css({opacity:0,position:"absolute"});n.before(u);var c=t._calculatePosition(n,u,o);u.css({top:c.callerTopPosition,left:c.callerleftPosition,marginTop:c.marginTopSize,opacity:0}).data("callerField",n);if(o.autoHidePrompt){setTimeout(function(){u.animate({opacity:0},function(){u.closest(".formErrorOuter").remove();u.remove()})},o.autoHideDelay)}return u.animate({opacity:.87})},_updatePrompt:function(e,n,r,i,s,o,u){if(n){if(typeof i!=="undefined"){if(i=="pass")n.addClass("greenPopup");else n.removeClass("greenPopup");if(i=="load")n.addClass("blackPopup");else n.removeClass("blackPopup")}if(s)n.addClass("ajaxed");else n.removeClass("ajaxed");n.find(".formErrorContent").html(r);var a=t._calculatePosition(e,n,o);var f={top:a.callerTopPosition,left:a.callerleftPosition,marginTop:a.marginTopSize};if(u)n.css(f);else n.animate(f)}},_closePrompt:function(e){var n=t._getPrompt(e);if(n)n.fadeTo("fast",0,function(){n.parent(".formErrorOuter").remove();n.remove()})},closePrompt:function(e){return t._closePrompt(e)},_getPrompt:function(n){var r=e(n).closest("form").attr("id");var i=t._getClassName(n.attr("id"))+"formError";var s=e("."+t._escapeExpression(i)+".parentForm"+r)[0];if(s)return e(s)},_escapeExpression:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(t){var n=e(document);var r=e("body");var i=t&&t.hasClass("rtl")||t&&(t.attr("dir")||"").toLowerCase()==="rtl"||n.hasClass("rtl")||(n.attr("dir")||"").toLowerCase()==="rtl"||r.hasClass("rtl")||(r.attr("dir")||"").toLowerCase()==="rtl";return Boolean(i)},_calculatePosition:function(e,t,n){var r,i,s;var o=e.width();var u=e.position().left;var a=e.position().top;var f=e.height();var l=t.height();r=i=0;s=-l;var c=e.data("promptPosition")||n.promptPosition;var h="";var p="";var d=0;var v=0;if(typeof c=="string"){if(c.indexOf(":")!=-1){h=c.substring(c.indexOf(":")+1);c=c.substring(0,c.indexOf(":"));if(h.indexOf(",")!=-1){p=h.substring(h.indexOf(",")+1);h=h.substring(0,h.indexOf(","));v=parseInt(p);if(isNaN(v))v=0}d=parseInt(h);if(isNaN(h))h=0}}switch(c){default:case"topRight":i+=u+o-30;r+=a;break;case"topLeft":r+=a;i+=u;break;case"centerRight":r=a+4;s=0;i=u+e.outerWidth(true)+5;break;case"centerLeft":i=u-(t.width()+2);r=a+4;s=0;break;case"bottomLeft":r=a+e.height()+5;s=0;i=u;break;case"bottomRight":i=u+o-30;r=a+e.height()+5;s=0}i+=d;r+=v;return{callerTopPosition:r+"px",callerleftPosition:i+"px",marginTopSize:s+"px"}},_saveOptions:function(t,n){if(e.validationEngineLanguage)var r=e.validationEngineLanguage.allRules;else e.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");e.validationEngine.defaults.allrules=r;var i=e.extend(true,{},e.validationEngine.defaults,n);t.data("jqv",i);return i},_getClassName:function(e){if(e)return e.replace(/:/g,"_").replace(/\./g,"_")},_condRequired:function(e,n,r,i){var s,o;for(s=r+1;s<n.length;s++){o=jQuery("#"+n[s]).first();if(o.length&&t._required(o,["required"],0,i)==undefined){return t._required(e,["required"],0,i)}}}};e.fn.validationEngine=function(n){var r=e(this);if(!r[0])return false;if(typeof n=="string"&&n.charAt(0)!="_"&&t[n]){if(n!="showPrompt"&&n!="hide"&&n!="hideAll")t.init.apply(r);return t[n].apply(r,Array.prototype.slice.call(arguments,1))}else if(typeof n=="object"||!n){t.init.apply(r,arguments);return t.attach.apply(r)}else{e.error("Method "+n+" does not exist in jQuery.validationEngine")}};e.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:true,focusFirstField:true,promptPosition:"topRight:-100",bindMethod:"bind",inlineAjax:false,ajaxFormValidation:false,ajaxFormValidationURL:false,ajaxFormValidationMethod:"get",onAjaxFormComplete:e.noop,onBeforeAjaxFormValidation:e.noop,onValidationComplete:false,doNotShowAllErrosOnSubmit:false,custom_error_messages:{},binded:true,showArrow:true,isError:false,ajaxValidCache:{},autoPositionUpdate:false,InvalidFields:[],onSuccess:false,onFailure:false,autoHidePrompt:false,autoHideDelay:1e4,fadeDuration:.3,prettySelect:false,usePrefix:"",useSuffix:""}};e(function(){e.validationEngine.defaults.promptPosition=t.isRTL()?"topLeft":"topRight"})})(jQuery)